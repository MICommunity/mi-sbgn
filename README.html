<h1 id="mi-sbgn">mi-sbgn</h1>
<p>SBGN viewer for PSI-MI protein complexes from <a href="http://www.ebi.ac.uk/complexportal/home">http://www.ebi.ac.uk/complexportal/home</a></p>
<p><a href="https://yochannah.github.io/mi-sbgn/">Demo</a></p>
<h2 id="initialising-the-mi-sbgn-viewer-on-an-html-page">Initialising the mi-sbgn viewer on an html page</h2>
<p>This repository requires <a href="https://docs.npmjs.com/getting-started/installing-node">npm</a> to manage dependencies. Once npm is installed, to install mi-sbgn, run:</p>
<pre><code class="lang-bash">npm install --save mi-sbgn
</code></pre>
<p>Assuming you now have a folder in your project root called <code>mi-sbgn</code>, add the bundles and css to your page:</p>
<pre><code class="lang-html">    &lt;link rel=&quot;stylesheet&quot; href=&quot;node_modules/mi-sbgn/dist/styles.css&quot; type=&quot;text/css&quot;&gt;
    &lt;script src=&quot;node_modules/mi-sbgn/dist/mi-sbgn-dependencies.bundle.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;node_modules/mi_sbgn/dist/mi-sbgn-main.bundle.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>Somewhere in the body of your HTML, add tags that look like this:</p>
<pre><code class="lang-html">        &lt;div class=&quot;svgcontainer&quot;&gt;
            &lt;svg id=&quot;mi-sbgn&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; height=&quot;100&quot; width=&quot;100&quot;&gt;
            &lt;/svg&gt;
        &lt;/div&gt;
</code></pre>
<p>The main.bundle.js file will initialise the component with id <code>mi-sbgn</code> automatically</p>
<p>Optionally, add an xml export download button:</p>
<pre><code class="lang-html">            &lt;button type=&quot;button&quot; class=&quot;download-sbgn&quot;&gt;
                &lt;svg id=&quot;icon-download&quot; viewBox=&quot;0 0 32 32&quot;&gt;
                    &lt;title&gt;download&lt;/title&gt;
                    &lt;path d=&quot;M23 14l-8 8-8-8h5v-12h6v12zM15 22h-15v8h30v-8h-15zM28 26h-4v-2h4v2z&quot;&gt;&lt;/path&gt;
                &lt;/svg&gt;
                Export as SBGN-ML&lt;/button&gt;
</code></pre>
<p>To initialise a specific protein complex, run <code>initViewer(&quot;EBI-SOMECOMPLEXHERE&quot;)</code>, e.g.</p>
<pre><code class="lang-html">    &lt;script&gt;
        initViewer(&quot;EBI-10828997&quot;);
    &lt;/script&gt;
</code></pre>
<h2 id="building-from-source">building from source</h2>
<h3 id="prereqs">prereqs</h3>
<p>This repository requires <a href="https://docs.npmjs.com/getting-started/installing-node">npm</a> to manage dependencies. Once npm is installed:</p>
<h3 id="set-up-dependencies">set up dependencies</h3>
<ol>
<li>Clone this repo</li>
<li><code>cd mi-sbgn</code></li>
<li><code>npm install</code></li>
<li><code>cd node_modules/webcola &amp; npm install - g grunt - cli &amp; npm install &amp; grunt</code></li>
</ol>
<p>This should install all relevant dependencies, including the MI-model backbone-based application which helps us co-ordinate the protein complex data with other elements on the same page.</p>
<p>Step 4 is required because the npm module from webcola doesn&#39;t include a built js version of the script.</p>
<h3 id="build-the-scripts">build the scripts</h3>
<p>We use webpack to build the js into two bundles</p>
<p>To automatically build files while editing them, run this from the mi-sbgn directory root:</p>
<pre><code class="lang-bash">./node_modules/.bin/webpack --config webpack.config.js --watch
</code></pre>
<h3 id="other-notes">Other notes</h3>
<p>The dependencies specified in js/denendencies.js are all availabloe on the window. If you already have a common dependency such as backbone or jquery on the window, you could remove the dependency from the bundle and re-bundle to save space by removing it from dependencies.js.</p>
